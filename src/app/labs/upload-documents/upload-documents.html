<div class="upload-docs-container">
  <div class="upload-docs-box">
    <h1 class="upload-docs-title">Documentos del Laboratorio</h1>
    <p class="upload-docs-subtitle">
      Sube y gestiona la documentaciÃ³n legal de tu laboratorio.
    </p>

    @if(uploadError) {
      <div class="error-alert">
        {{ uploadError }}
      </div>
    }

    <form (ngSubmit)="onSubmit()" #uploadForm="ngForm" novalidate>
      <div class="form-grid">
        <div class="form-group full-width">
          <label for="file">Seleccionar archivo</label>
          <input
            type="file"
            id="file"
            (change)="onFileSelected($event)"
            required
          />
        </div>

        <div class="form-group">
          <button
            type="submit"
            [disabled]="!selectedFile"
            class="btn-upload"
          >
            Subir Archivo
          </button>
        </div>
      </div>
    </form>

    <hr class="divider" />

    <h2 class="uploaded-title">Archivos Subidos</h2>

    @if(uploadedFiles.length === 0) {
      <div class="no-files">
        <p>No hay archivos registrados para este laboratorio.</p>
      </div>
    }

    @if(uploadedFiles.length > 0) {
      <div class="files-list">
        @for(file of uploadedFiles; track file) {
          <div class="file-item">
            <div class="file-name">
              ðŸ“„ {{ file.name }}
            </div>
            <div class="file-actions">
              <button (click)="downloadFile(file.file)" class="btn-download">
                Descargar
              </button>
              <button (click)="deleteFile(file.id)" class="btn-delete">
                Eliminar
              </button>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>
